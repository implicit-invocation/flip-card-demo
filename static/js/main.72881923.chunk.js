(this["webpackJsonpflip-card-template"]=this["webpackJsonpflip-card-template"]||[]).push([[0],{27:function(t,e,n){t.exports=n(41)},29:function(t,e,n){},4:function(t){t.exports=JSON.parse('{"backgroundColor":[0.929,0.306,0.176],"atlasUrl":"/flip-card-demo/shopee.atlas","background":"/flip-card-demo/bg.png"}')},41:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),i=(n(29),n(2)),o=n(17),c=n(13),l=n(18),u=n(15),s=n(4),h=n(9);function f(t){for(var e,n,a=t.length;0!==a;)n=Math.floor(Math.random()*a),e=t[a-=1],t[a]=t[n],t[n]=e}var d=function(t,e,n,a){var d,v,p,g,b,w,x,m,y,k,M,O,R,j,C,F,S,E,I,L,P,A,B,D,J,N,U,_,q,H,T,V,W,Y,z,G,K,Q,X,Z,$,tt,et,nt,at,rt,it,ot,ct,lt,ut,st,ht,ft,dt,vt;return r.a.async((function(pt){for(;;)switch(pt.prev=pt.next){case 0:if(d=812/375,e<n?p=(v=300)/e*n:v=(p=300*d)/n*e,!s.background){pt.next=6;break}return pt.next=5,r.a.awrap(Object(h.a)(t,s.background));case 5:g=pt.sent;case 6:return b=Object(o.a)(v,p,e,n),w=Object(c.a)(t),pt.next=10,r.a.awrap(Object(l.a)(t,s.atlasUrl,{genMipmaps:!0}));case 10:for(x=pt.sent,m=!0,y=!1,k=void 0,pt.prev=14,M=x.getPages()[Symbol.iterator]();!(m=(O=M.next()).done);m=!0)O.value.texture.setFilter(t.LINEAR,t.LINEAR,!0);pt.next=22;break;case 18:pt.prev=18,pt.t0=pt.catch(14),y=!0,k=pt.t0;case 22:pt.prev=22,pt.prev=23,m||null==M.return||M.return();case 25:if(pt.prev=25,!y){pt.next=28;break}throw k;case 28:return pt.finish(25);case 29:return pt.finish(22);case 30:for(R=new u.a(a),j=[],C=[],F=[],S=0;S<12;S++)j.push(S%6),C.push(!1),F.push(!1);for(f(j),v<p/d?(P=(p-4*(L=((B=v)-2*(E=.05*B)-2*(I=10))/3)-3*I)/2,A=0):(P=(p-4*(L=((B=p/d)-2*(E=.05*B)-2*(I=10))/3)-3*I)/2,A=(v-B)/2),3,D=[],J=[],N=[],U=0;U<C.length;U++)_=Math.floor(U/3),H=A+(q=U%3)*L+E+q*I,T=P+_*L+_*I,D.push({x:H,y:T,width:L,height:L}),N.push(-1),J.push(0);return V=[],W=0,Y=!1,z=0,G=!1,K=function(t){if(C[t]=!C[t],V.push(t),2===V.length){var e=V[0],n=V[1];j[e]===j[n]?(z=.5,G=!0):(W=.5,Y=!0)}},Q=0,X=function(t){-1===N[t]&&!F[t]&&V.length<2&&(K(t),Q++)},Z=[],$=[],tt=window.devicePixelRatio||1,R.addEventListener("touchStart",(function(t,e){Z[0]=t*tt,Z[1]=e*tt,b.unprojectVector2($,Z);for(var n=0;n<D.length;n++){var a=$[0],r=$[1],i=D[n];if(a>=i.x&&a<=i.x+L&&r>=i.y&&r<=i.y+L){X(n);break}}})),et=!0,at=function(){et=!1,R.cleanup()},rt=function(){alert("You finished the game in ".concat(Q," moves!")),at(),nt&&nt()},10,it=function(t){if(Y&&0===(W=Math.max(0,W-t))&&2===V.length){var e=!0,n=!1,a=void 0;try{for(var r,i=V[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;C[o]=!1}}catch(b){n=!0,a=b}finally{try{e||null==i.return||i.return()}finally{if(n)throw a}}V.length=0,Y=!1}if(G&&0===(z=Math.max(0,z-t))&&2===V.length){var c=!0,l=!1,u=void 0;try{for(var s,h=V[Symbol.iterator]();!(c=(s=h.next()).done);c=!0){var f=s.value;F[f]=!0}}catch(b){l=!0,u=b}finally{try{c||null==h.return||h.return()}finally{if(l)throw u}}V.length=0,G=!1}for(var d=0;d<N.length;d++)if(void 0!==j[d]){if(F[d]){var v=J[d];v<1?J[d]=v+10*t:j[d]=void 0}var p=C[d],g=N[d];p&&g<1&&(N[d]=Math.min(1,g+10*t)),!p&&g>-1&&(N[d]=Math.max(-1,g-10*t))}},ot=x.findRegion("shadow"),ct=x.findRegions("item"),lt=x.findRegion("back"),ut=Object(i.a)(s.backgroundColor,3),st=ut[0],ht=ut[1],ft=ut[2],t.clearColor(st,ht,ft,1),dt=function(e){t.clear(t.COLOR_BUFFER_BIT),it(e),w.setProjection(b.combined),w.begin(),g&&w.draw(g,A,0,B,p);for(var n=0;n<j.length;n++){var a=j[n];if(void 0!==a){var r=D[n],i=r.x,o=r.y,c=N[n],l=J[n];ot.draw(w,i+3,o+3,L,L,L/2,L/2,0,Math.abs(c)*(1-l),1-l),c>0?ct[a].draw(w,i,o,L,L,L/2,L/2,0,Math.abs(c)*(1-l),1-l):lt.draw(w,i,o,L,L,L/2,0,0,Math.abs(c))}}w.end();var u=!0,s=!0,h=!1,f=void 0;try{for(var d,v=F[Symbol.iterator]();!(s=(d=v.next()).done);s=!0){if(!d.value){u=!1;break}}}catch(x){h=!0,f=x}finally{try{s||null==v.return||v.return()}finally{if(h)throw f}}u&&rt()},vt=Date.now(),function t(){var e=(Date.now()-vt)/1e3;dt(e),vt=Date.now(),et&&requestAnimationFrame(t)}(),pt.abrupt("return",{stop:at,setOnFinish:function(t){return nt=t}});case 69:case"end":return pt.stop()}}),null,null,[[14,18,22,30],[23,,25,29]])};var v=document.getElementById("mainCanvas");!function(t){var e=window.devicePixelRatio||1,n=t.clientWidth*e,a=t.clientHeight*e;t.width===n&&t.height===a||(t.width=n,t.height=a)}(v);var p=v.getContext("webgl",{antialias:!0});!function t(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.awrap(d(p,v.width,v.height,v));case 2:e.sent.setOnFinish(t);case 4:case"end":return e.stop()}}))}()}},[[27,1,2]]]);
//# sourceMappingURL=main.72881923.chunk.js.map